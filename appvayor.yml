install:
  # Update Node.js
  - ps: Update-NodeJsInstallation (Get-NodeJsLatestBuild $env:nodejs_version)
  - node --version

  # Update NPM
  - npm install -g npm
  - npm --version

  # Update node-gyp
  # 必須! node-gyp のバージョンを上げないと、ネイティブモジュールのコンパイルに失敗します
  - npm install -g node-gyp

  # Install dependencies & devDependencies
  # Visual Studio のバージョンを指定しないとコンパイルが通らない場合あり
  - npm install --build-from-source --msvs_version=2013

  # Build
  - npm run build

test_script:
# テスト用のコマンドを指定します
  - npm test

environment:
  matrix:
    - nodejs_version: "4.4.3"

init:
# git clone の際の改行を変換しないようにします
  - git config --global core.autocrlf false

branches:
# ビルドするブランチを制限する場合に記述します
#  except:
#    - gh-pages
  only:
  - ci/appvayor

build: off
deploy: off

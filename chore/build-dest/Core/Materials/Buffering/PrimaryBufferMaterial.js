import BasicMaterial from "../Base/BasicMaterial";
class PrimaryBufferMaterial extends BasicMaterial {
    constructor() {
        super(require("../BuiltIn/GBuffer/PrimaryBuffer.html"));
    }
    apply(matArg) {
        const fm = matArg.object.getMaterial("builtin.forward"); // brightness
        let brightness = 0;
        const fmArgs = fm.materialVariables;
        if (fmArgs["brightness"]) {
            brightness = fmArgs["brightness"];
        }
        this.materialVariables["brightness"] = brightness;
        super.apply(matArg);
    }
}
export default PrimaryBufferMaterial;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvcmUvTWF0ZXJpYWxzL0J1ZmZlcmluZy9QcmltYXJ5QnVmZmVyTWF0ZXJpYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ik9BQ08sYUFBYSxNQUFNLHVCQUF1QjtBQUNqRCxvQ0FBb0MsYUFBYTtJQUMvQztRQUNFLE1BQU0sT0FBTyxDQUFDLHVDQUF1QyxDQUFDLENBQUMsQ0FBQztJQUMxRCxDQUFDO0lBRU0sS0FBSyxDQUFDLE1BQThCO1FBQ3pDLE1BQU0sRUFBRSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxhQUFhO1FBQ3RFLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQztRQUNuQixNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUMsaUJBQWlCLENBQUM7UUFDcEMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN6QixVQUFVLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3BDLENBQUM7UUFDRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLEdBQUcsVUFBVSxDQUFDO1FBQ2xELEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDdEIsQ0FBQztBQUNILENBQUM7QUFFRCxlQUFlLHFCQUFxQixDQUFDIiwiZmlsZSI6IkNvcmUvTWF0ZXJpYWxzL0J1ZmZlcmluZy9QcmltYXJ5QnVmZmVyTWF0ZXJpYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSUFwcGx5TWF0ZXJpYWxBcmd1bWVudCBmcm9tIFwiLi4vQmFzZS9JQXBwbHlNYXRlcmlhbEFyZ3VtZW50XCI7XG5pbXBvcnQgQmFzaWNNYXRlcmlhbCBmcm9tIFwiLi4vQmFzZS9CYXNpY01hdGVyaWFsXCI7XG5jbGFzcyBQcmltYXJ5QnVmZmVyTWF0ZXJpYWwgZXh0ZW5kcyBCYXNpY01hdGVyaWFsIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIocmVxdWlyZShcIi4uL0J1aWx0SW4vR0J1ZmZlci9QcmltYXJ5QnVmZmVyLmh0bWxcIikpO1xuICB9XG5cbiAgcHVibGljIGFwcGx5KG1hdEFyZzogSUFwcGx5TWF0ZXJpYWxBcmd1bWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGZtID0gbWF0QXJnLm9iamVjdC5nZXRNYXRlcmlhbChcImJ1aWx0aW4uZm9yd2FyZFwiKTsgLy8gYnJpZ2h0bmVzc1xuICAgIGxldCBicmlnaHRuZXNzID0gMDtcbiAgICBjb25zdCBmbUFyZ3MgPSBmbS5tYXRlcmlhbFZhcmlhYmxlcztcbiAgICBpZiAoZm1BcmdzW1wiYnJpZ2h0bmVzc1wiXSkge1xuICAgICAgYnJpZ2h0bmVzcyA9IGZtQXJnc1tcImJyaWdodG5lc3NcIl07XG4gICAgfVxuICAgIHRoaXMubWF0ZXJpYWxWYXJpYWJsZXNbXCJicmlnaHRuZXNzXCJdID0gYnJpZ2h0bmVzcztcbiAgICBzdXBlci5hcHBseShtYXRBcmcpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFByaW1hcnlCdWZmZXJNYXRlcmlhbDtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

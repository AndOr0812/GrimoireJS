import AsyncLoader from "./AsyncLoader";
import Q from "q";
class ImageLoader {
    static loadImage(src) {
        return ImageLoader._loader.fetch(src, (path) => {
            const deferred = Q.defer();
            const imgTag = new Image();
            imgTag.onload = () => {
                deferred.resolve(imgTag);
            };
            imgTag.onerror = (e) => {
                deferred.reject(e);
            };
            imgTag.src = src;
            return deferred.promise;
        });
    }
}
ImageLoader._loader = new AsyncLoader();
export default ImageLoader;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvcmUvUmVzb3VyY2VzL0ltYWdlTG9hZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJPQUFPLFdBQVcsTUFBTSxlQUFlO09BQ2hDLENBQUMsTUFBTSxHQUFHO0FBQ2pCO0lBSUUsT0FBYyxTQUFTLENBQUMsR0FBVztRQUNqQyxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSTtZQUN6QyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUFvQixDQUFDO1lBQzdDLE1BQU0sTUFBTSxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7WUFDM0IsTUFBTSxDQUFDLE1BQU0sR0FBRztnQkFDZCxRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQzNCLENBQUMsQ0FBQztZQUNGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQixRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLENBQUMsQ0FBQztZQUNGLE1BQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQ2pCLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDO1FBQzFCLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztBQUNILENBQUM7QUFoQmdCLG1CQUFPLEdBQWtDLElBQUksV0FBVyxFQUFvQixDQWdCNUY7QUFFRCxlQUFlLFdBQVcsQ0FBQyIsImZpbGUiOiJDb3JlL1Jlc291cmNlcy9JbWFnZUxvYWRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBc3luY0xvYWRlciBmcm9tIFwiLi9Bc3luY0xvYWRlclwiO1xuaW1wb3J0IFEgZnJvbSBcInFcIjtcbmNsYXNzIEltYWdlTG9hZGVyIHtcblxuICBwcml2YXRlIHN0YXRpYyBfbG9hZGVyOiBBc3luY0xvYWRlcjxIVE1MSW1hZ2VFbGVtZW50PiA9IG5ldyBBc3luY0xvYWRlcjxIVE1MSW1hZ2VFbGVtZW50PigpO1xuXG4gIHB1YmxpYyBzdGF0aWMgbG9hZEltYWdlKHNyYzogc3RyaW5nKTogUS5JUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiB7XG4gICAgcmV0dXJuIEltYWdlTG9hZGVyLl9sb2FkZXIuZmV0Y2goc3JjLCAocGF0aCkgPT4ge1xuICAgICAgY29uc3QgZGVmZXJyZWQgPSBRLmRlZmVyPEhUTUxJbWFnZUVsZW1lbnQ+KCk7XG4gICAgICBjb25zdCBpbWdUYWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltZ1RhZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoaW1nVGFnKTtcbiAgICAgIH07XG4gICAgICBpbWdUYWcub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChlKTtcbiAgICAgIH07XG4gICAgICBpbWdUYWcuc3JjID0gc3JjO1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW1hZ2VMb2FkZXI7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

import ContextComponents from "../ContextComponents";
import JThreeObject from "../Base/JThreeObject";
import JThreeContext from "../JThreeContext";
class Timer extends JThreeObject {
    constructor() {
        super();
        this.currentFrame = 0;
        this.time = 0;
        this.timeFromLast = 0;
        this._initializedTime = 0;
        this._initializedTime = Date.now();
        const loopManager = JThreeContext.getContextComponent(ContextComponents.LoopManager);
        loopManager.addAction(1000, () => this.updateTimer());
    }
    getContextComponentIndex() {
        return ContextComponents.Timer;
    }
    updateTimer() {
        this.currentFrame++;
        const currentTime = Date.now() - this._initializedTime;
        this.timeFromLast = currentTime - this.time;
        this.time = currentTime;
    }
}
export default Timer;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNvcmUvVGltZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ik9BQU8saUJBQWlCLE1BQU0sc0JBQXNCO09BQzdDLFlBQVksTUFBTSxzQkFBc0I7T0FHeEMsYUFBYSxNQUFNLGtCQUFrQjtBQUc1QyxvQkFBb0IsWUFBWTtJQVc5QjtRQUNFLE9BQU8sQ0FBQztRQVRILGlCQUFZLEdBQVcsQ0FBQyxDQUFDO1FBRXpCLFNBQUksR0FBVyxDQUFDLENBQUM7UUFFakIsaUJBQVksR0FBVyxDQUFDLENBQUM7UUFFeEIscUJBQWdCLEdBQVcsQ0FBQyxDQUFDO1FBSW5DLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDbkMsTUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDLG1CQUFtQixDQUFjLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2xHLFdBQVcsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLE1BQU0sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVNLHdCQUF3QjtRQUM3QixNQUFNLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDO0lBQ2pDLENBQUM7SUFFTSxXQUFXO1FBQ2hCLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNwQixNQUFNLFdBQVcsR0FBVyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBQy9ELElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDNUMsSUFBSSxDQUFDLElBQUksR0FBRyxXQUFXLENBQUM7SUFDMUIsQ0FBQztBQUVILENBQUM7QUFFRCxlQUFlLEtBQUssQ0FBQyIsImZpbGUiOiJDb3JlL1RpbWVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbnRleHRDb21wb25lbnRzIGZyb20gXCIuLi9Db250ZXh0Q29tcG9uZW50c1wiO1xuaW1wb3J0IEpUaHJlZU9iamVjdCBmcm9tIFwiLi4vQmFzZS9KVGhyZWVPYmplY3RcIjtcbmltcG9ydCBJQ29udGV4dENvbXBvbmVudCBmcm9tIFwiLi4vSUNvbnRleHRDb21wb25lbnRcIjtcbmltcG9ydCBMb29wTWFuYWdlciBmcm9tIFwiLi9Mb29wTWFuYWdlclwiO1xuaW1wb3J0IEpUaHJlZUNvbnRleHQgZnJvbSBcIi4uL0pUaHJlZUNvbnRleHRcIjtcblxuXG5jbGFzcyBUaW1lciBleHRlbmRzIEpUaHJlZU9iamVjdCBpbXBsZW1lbnRzIElDb250ZXh0Q29tcG9uZW50IHtcblxuXG4gIHB1YmxpYyBjdXJyZW50RnJhbWU6IG51bWJlciA9IDA7XG5cbiAgcHVibGljIHRpbWU6IG51bWJlciA9IDA7XG5cbiAgcHVibGljIHRpbWVGcm9tTGFzdDogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIF9pbml0aWFsaXplZFRpbWU6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9pbml0aWFsaXplZFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGxvb3BNYW5hZ2VyID0gSlRocmVlQ29udGV4dC5nZXRDb250ZXh0Q29tcG9uZW50PExvb3BNYW5hZ2VyPihDb250ZXh0Q29tcG9uZW50cy5Mb29wTWFuYWdlcik7XG4gICAgbG9vcE1hbmFnZXIuYWRkQWN0aW9uKDEwMDAsICgpID0+IHRoaXMudXBkYXRlVGltZXIoKSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29udGV4dENvbXBvbmVudEluZGV4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIENvbnRleHRDb21wb25lbnRzLlRpbWVyO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVRpbWVyKCk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudEZyYW1lKys7XG4gICAgY29uc3QgY3VycmVudFRpbWU6IG51bWJlciA9IERhdGUubm93KCkgLSB0aGlzLl9pbml0aWFsaXplZFRpbWU7XG4gICAgdGhpcy50aW1lRnJvbUxhc3QgPSBjdXJyZW50VGltZSAtIHRoaXMudGltZTtcbiAgICB0aGlzLnRpbWUgPSBjdXJyZW50VGltZTtcbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVyO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

import LightNodeBase from "./LightNodeBase";
import SceneLight from "../../../../Core/SceneObjects/Light/Impl/SceneLight";
class SceneLightNode extends LightNodeBase {
    constructor() {
        super();
        this.attributes.defineAttribute({
            "intensity": {
                value: 1,
                converter: "float",
                onchanged: this._onIntensityAttrChanged.bind(this),
            }
        });
        this.on("update-scene-object", (obj) => {
            this._onIntensityAttrChanged.call(this, this.attributes.getAttribute("intensity"));
        });
    }
    __constructLight() {
        return new SceneLight();
    }
    _onIntensityAttrChanged(attr) {
        if (this.TargetSceneObject) {
            this.TargetSceneObject.intensity = attr.Value;
            attr.done();
        }
    }
}
export default SceneLightNode;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkdvbWwvTm9kZXMvU2NlbmVPYmplY3RzL0xpZ2h0cy9TY2VuZUxpZ2h0Tm9kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiT0FBTyxhQUFhLE1BQU0saUJBQWlCO09BQ3BDLFVBQVUsTUFBTSxxREFBcUQ7QUFHNUUsNkJBQTZCLGFBQWE7SUFDeEM7UUFDRSxPQUFPLENBQUM7UUFDUixJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQztZQUM5QixXQUFXLEVBQUU7Z0JBQ1gsS0FBSyxFQUFFLENBQUM7Z0JBQ1IsU0FBUyxFQUFFLE9BQU87Z0JBQ2xCLFNBQVMsRUFBRSxJQUFJLENBQUMsdUJBQXVCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzthQUNuRDtTQUNGLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxFQUFFLENBQUMscUJBQXFCLEVBQUUsQ0FBQyxHQUFlO1lBQzdDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDckYsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDO0lBRVMsZ0JBQWdCO1FBQ3hCLE1BQU0sQ0FBQyxJQUFJLFVBQVUsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFTyx1QkFBdUIsQ0FBQyxJQUFtQjtRQUNqRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1lBQ2QsSUFBSSxDQUFDLGlCQUFrQixDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO1lBQzVELElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNkLENBQUM7SUFDSCxDQUFDO0FBQ0gsQ0FBQztBQUNELGVBQWUsY0FBYyxDQUFDIiwiZmlsZSI6IkdvbWwvTm9kZXMvU2NlbmVPYmplY3RzL0xpZ2h0cy9TY2VuZUxpZ2h0Tm9kZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaWdodE5vZGVCYXNlIGZyb20gXCIuL0xpZ2h0Tm9kZUJhc2VcIjtcbmltcG9ydCBTY2VuZUxpZ2h0IGZyb20gXCIuLi8uLi8uLi8uLi9Db3JlL1NjZW5lT2JqZWN0cy9MaWdodC9JbXBsL1NjZW5lTGlnaHRcIjtcbmltcG9ydCBHb21sQXR0cmlidXRlIGZyb20gXCIuLi8uLi8uLi9Hb21sQXR0cmlidXRlXCI7XG5cbmNsYXNzIFNjZW5lTGlnaHROb2RlIGV4dGVuZHMgTGlnaHROb2RlQmFzZTxTY2VuZUxpZ2h0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hdHRyaWJ1dGVzLmRlZmluZUF0dHJpYnV0ZSh7XG4gICAgICBcImludGVuc2l0eVwiOiB7XG4gICAgICAgIHZhbHVlOiAxLFxuICAgICAgICBjb252ZXJ0ZXI6IFwiZmxvYXRcIixcbiAgICAgICAgb25jaGFuZ2VkOiB0aGlzLl9vbkludGVuc2l0eUF0dHJDaGFuZ2VkLmJpbmQodGhpcyksXG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5vbihcInVwZGF0ZS1zY2VuZS1vYmplY3RcIiwgKG9iajogU2NlbmVMaWdodCkgPT4ge1xuICAgICAgdGhpcy5fb25JbnRlbnNpdHlBdHRyQ2hhbmdlZC5jYWxsKHRoaXMsIHRoaXMuYXR0cmlidXRlcy5nZXRBdHRyaWJ1dGUoXCJpbnRlbnNpdHlcIikpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9fY29uc3RydWN0TGlnaHQoKTogU2NlbmVMaWdodCB7XG4gICAgcmV0dXJuIG5ldyBTY2VuZUxpZ2h0KCk7XG4gIH1cblxuICBwcml2YXRlIF9vbkludGVuc2l0eUF0dHJDaGFuZ2VkKGF0dHI6IEdvbWxBdHRyaWJ1dGUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5UYXJnZXRTY2VuZU9iamVjdCkge1xuICAgICAgKDxTY2VuZUxpZ2h0PnRoaXMuVGFyZ2V0U2NlbmVPYmplY3QpLmludGVuc2l0eSA9IGF0dHIuVmFsdWU7XG4gICAgICBhdHRyLmRvbmUoKTtcbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBkZWZhdWx0IFNjZW5lTGlnaHROb2RlO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

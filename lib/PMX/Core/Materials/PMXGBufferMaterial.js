import BasicMaterial from "../../../Core/Materials/Base/BasicMaterial";
import Material from "../../../Core/Materials/Material";
import Vector4 from "../../../Math/Vector4";
import PMXMaterialParamContainer from "./../PMXMaterialMorphParamContainer";
/**
 * the materials for PMX.
 */
class PMXGBufferMaterial extends Material {
    constructor(material) {
        super();
        this.__associatedMaterial = material;
        this.__primaryMaterial = new BasicMaterial(require("../../Materials/PrimaryBuffer.html"));
        this.__secoundaryMaterial = new BasicMaterial(require("../../Materials/SecoundaryBuffer.html"));
        this.__thirdMaterial = new BasicMaterial(require("../../Materials/ThirdBuffer.html"));
        this.__setLoaded();
    }
    /**
     * Count of verticies
     */
    get VerticiesCount() {
        return this.__associatedMaterial.VerticiesCount;
    }
    /**
     * Offset of verticies in index buffer
     */
    get VerticiesOffset() {
        return this.__associatedMaterial.VerticiesOffset;
    }
    apply(matArg) {
        if (this.__associatedMaterial.Diffuse.A < 1.0E-3) {
            return;
        }
        const skeleton = this.__associatedMaterial.ParentModel.skeleton;
        switch (matArg.techniqueIndex) {
            case 0:
                this.__primaryMaterial.materialVariables = {
                    boneMatriciesTexture: skeleton.MatrixTexture,
                    brightness: this.__associatedMaterial.Specular.W,
                    boneCount: skeleton.BoneCount
                };
                this.__primaryMaterial.apply(matArg);
                break;
            case 1:
                this.__secoundaryMaterial.materialVariables = {
                    boneMatriciesTexture: skeleton.MatrixTexture,
                    boneCount: skeleton.BoneCount,
                    diffuse: PMXMaterialParamContainer.calcMorphedVectorValue(this.__associatedMaterial.Diffuse.toVector(), this.__associatedMaterial.addMorphParam, this.__associatedMaterial.mulMorphParam, (t) => t.diffuse, 4),
                    texture: this.__associatedMaterial.Texture,
                    sphere: this.__associatedMaterial.Sphere,
                    textureUsed: this.__associatedMaterial.Texture ? 1 : 0,
                    sphereMode: this.__associatedMaterial.Sphere ? this.__associatedMaterial.SphereMode : 0,
                    addTextureCoefficient: new Vector4(this.__associatedMaterial.addMorphParam.textureCoeff),
                    mulTextureCoefficient: new Vector4(this.__associatedMaterial.mulMorphParam.textureCoeff),
                    addSphereCoefficient: new Vector4(this.__associatedMaterial.addMorphParam.sphereCoeff),
                    mulSphereCoefficient: new Vector4(this.__associatedMaterial.mulMorphParam.sphereCoeff)
                };
                this.__secoundaryMaterial.apply(matArg);
                break;
            case 2:
                this.__thirdMaterial.materialVariables = {
                    boneMatriciesTexture: skeleton.MatrixTexture,
                    boneCount: skeleton.BoneCount,
                    specular: PMXMaterialParamContainer.calcMorphedVectorValue(this.__associatedMaterial.Specular, this.__associatedMaterial.addMorphParam, this.__associatedMaterial.mulMorphParam, (t) => t.specular, 3)
                };
                this.__thirdMaterial.apply(matArg);
                break;
        }
    }
    get Priorty() {
        return 100;
    }
    getDrawGeometryLength(geo) {
        return this.__associatedMaterial.Diffuse.A > 0 ? this.VerticiesCount : 0;
    }
    getDrawGeometryOffset(geo) {
        return this.VerticiesOffset * 4;
    }
    get MaterialGroup() {
        return "jthree.materials.gbuffer";
    }
}
export default PMXGBufferMaterial;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBNWC9Db3JlL01hdGVyaWFscy9QTVhHQnVmZmVyTWF0ZXJpYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ik9BQ08sYUFBYSxNQUFNLDRDQUE0QztPQUM5RCxRQUFRLE1BQU0sa0NBQWtDO09BR2pELE9BQU8sTUFBTSx1QkFBdUI7T0FDcEMseUJBQXlCLE1BQU0scUNBQXFDO0FBQzNFOztHQUVHO0FBQ0gsaUNBQWlDLFFBQVE7SUF3QnZDLFlBQVksUUFBcUI7UUFDL0IsT0FBTyxDQUFDO1FBQ1IsSUFBSSxDQUFDLG9CQUFvQixHQUFHLFFBQVEsQ0FBQztRQUNyQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxhQUFhLENBQUMsT0FBTyxDQUFDLG9DQUFvQyxDQUFDLENBQUMsQ0FBQztRQUMxRixJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxhQUFhLENBQUMsT0FBTyxDQUFDLHVDQUF1QyxDQUFDLENBQUMsQ0FBQztRQUNoRyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksYUFBYSxDQUFDLE9BQU8sQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDLENBQUM7UUFDdEYsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7SUFyQkQ7O09BRUc7SUFDSCxJQUFXLGNBQWM7UUFDdkIsTUFBTSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxjQUFjLENBQUM7SUFDbEQsQ0FBQztJQUVEOztPQUVHO0lBQ0gsSUFBVyxlQUFlO1FBQ3hCLE1BQU0sQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsZUFBZSxDQUFDO0lBQ25ELENBQUM7SUFXTSxLQUFLLENBQUMsTUFBOEI7UUFDekMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNqRCxNQUFNLENBQUM7UUFDVCxDQUFDO1FBQ0QsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLFdBQVcsQ0FB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R0FBRyxJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQztJQUMzRSxDQUFDO0lBRU0scUJBQXFCLENBQUMsR0FBYTtRQUN4QyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELElBQVcsYUFBYTtRQUN0QixNQUFNLENBQUMsMEJBQTBCLENBQUM7SUFDcEMsQ0FBQztBQUNILENBQUM7QUFFRCxlQUFlLGtCQUFrQixDQUFDIiwiZmlsZSI6IlBNWC9Db3JlL01hdGVyaWFscy9QTVhHQnVmZmVyTWF0ZXJpYWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSUFwcGx5TWF0ZXJpYWxBcmd1bWVudCBmcm9tIFwiLi4vLi4vLi4vQ29yZS9NYXRlcmlhbHMvQmFzZS9JQXBwbHlNYXRlcmlhbEFyZ3VtZW50XCI7XG5pbXBvcnQgQmFzaWNNYXRlcmlhbCBmcm9tIFwiLi4vLi4vLi4vQ29yZS9NYXRlcmlhbHMvQmFzZS9CYXNpY01hdGVyaWFsXCI7XG7vu79pbXBvcnQgTWF0ZXJpYWwgZnJvbSBcIi4uLy4uLy4uL0NvcmUvTWF0ZXJpYWxzL01hdGVyaWFsXCI7XG5pbXBvcnQgR2VvbWV0cnkgZnJvbSBcIi4uLy4uLy4uL0NvcmUvR2VvbWV0cmllcy9CYXNlL0dlb21ldHJ5XCI7XG5pbXBvcnQgUE1YTWF0ZXJpYWwgZnJvbSBcIi4vUE1YTWF0ZXJpYWxcIjtcbmltcG9ydCBWZWN0b3I0IGZyb20gXCIuLi8uLi8uLi9NYXRoL1ZlY3RvcjRcIjtcbmltcG9ydCBQTVhNYXRlcmlhbFBhcmFtQ29udGFpbmVyIGZyb20gXCIuLy4uL1BNWE1hdGVyaWFsTW9ycGhQYXJhbUNvbnRhaW5lclwiO1xuLyoqXG4gKiB0aGUgbWF0ZXJpYWxzIGZvciBQTVguXG4gKi9cbmNsYXNzIFBNWEdCdWZmZXJNYXRlcmlhbCBleHRlbmRzIE1hdGVyaWFsIHtcblxuICBwcm90ZWN0ZWQgX19wcmltYXJ5TWF0ZXJpYWw6IEJhc2ljTWF0ZXJpYWw7XG5cbiAgcHJvdGVjdGVkIF9fc2Vjb3VuZGFyeU1hdGVyaWFsOiBCYXNpY01hdGVyaWFsO1xuXG4gIHByb3RlY3RlZCBfX3RoaXJkTWF0ZXJpYWw6IEJhc2ljTWF0ZXJpYWw7XG5cbiAgcHJvdGVjdGVkIF9fYXNzb2NpYXRlZE1hdGVyaWFsOiBQTVhNYXRlcmlhbDtcblxuICAvKipcbiAgICogQ291bnQgb2YgdmVydGljaWVzXG4gICAqL1xuICBwdWJsaWMgZ2V0IFZlcnRpY2llc0NvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9fYXNzb2NpYXRlZE1hdGVyaWFsLlZlcnRpY2llc0NvdW50O1xuICB9XG5cbiAgLyoqXG4gICAqIE9mZnNldCBvZiB2ZXJ0aWNpZXMgaW4gaW5kZXggYnVmZmVyXG4gICAqL1xuICBwdWJsaWMgZ2V0IFZlcnRpY2llc09mZnNldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fX2Fzc29jaWF0ZWRNYXRlcmlhbC5WZXJ0aWNpZXNPZmZzZXQ7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihtYXRlcmlhbDogUE1YTWF0ZXJpYWwpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwgPSBtYXRlcmlhbDtcbiAgICB0aGlzLl9fcHJpbWFyeU1hdGVyaWFsID0gbmV3IEJhc2ljTWF0ZXJpYWwocmVxdWlyZShcIi4uLy4uL01hdGVyaWFscy9QcmltYXJ5QnVmZmVyLmh0bWxcIikpO1xuICAgIHRoaXMuX19zZWNvdW5kYXJ5TWF0ZXJpYWwgPSBuZXcgQmFzaWNNYXRlcmlhbChyZXF1aXJlKFwiLi4vLi4vTWF0ZXJpYWxzL1NlY291bmRhcnlCdWZmZXIuaHRtbFwiKSk7XG4gICAgdGhpcy5fX3RoaXJkTWF0ZXJpYWwgPSBuZXcgQmFzaWNNYXRlcmlhbChyZXF1aXJlKFwiLi4vLi4vTWF0ZXJpYWxzL1RoaXJkQnVmZmVyLmh0bWxcIikpO1xuICAgIHRoaXMuX19zZXRMb2FkZWQoKTtcbiAgfVxuXG4gIHB1YmxpYyBhcHBseShtYXRBcmc6IElBcHBseU1hdGVyaWFsQXJndW1lbnQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fX2Fzc29jaWF0ZWRNYXRlcmlhbC5EaWZmdXNlLkEgPCAxLjBFLTMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc2tlbGV0b24gPSB0aGlzLl9fYXNzb2NpYXRlZE1hdGVyaWFsLlBhcmVudE1vZGVsLnNrZWxldG9uO1xuICAgIHN3aXRjaCAobWF0QXJnLnRlY2huaXF1ZUluZGV4KSB7XG4gICAgICBjYXNlIDA6XG4gICAgICAgIHRoaXMuX19wcmltYXJ5TWF0ZXJpYWwubWF0ZXJpYWxWYXJpYWJsZXMgPSB7XG4gICAgICAgICAgYm9uZU1hdHJpY2llc1RleHR1cmU6IHNrZWxldG9uLk1hdHJpeFRleHR1cmUsXG4gICAgICAgICAgYnJpZ2h0bmVzczogdGhpcy5fX2Fzc29jaWF0ZWRNYXRlcmlhbC5TcGVjdWxhci5XLFxuICAgICAgICAgIGJvbmVDb3VudDogc2tlbGV0b24uQm9uZUNvdW50XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX19wcmltYXJ5TWF0ZXJpYWwuYXBwbHkobWF0QXJnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHRoaXMuX19zZWNvdW5kYXJ5TWF0ZXJpYWwubWF0ZXJpYWxWYXJpYWJsZXMgPSB7XG4gICAgICAgICAgYm9uZU1hdHJpY2llc1RleHR1cmU6IHNrZWxldG9uLk1hdHJpeFRleHR1cmUsXG4gICAgICAgICAgYm9uZUNvdW50OiBza2VsZXRvbi5Cb25lQ291bnQsXG4gICAgICAgICAgZGlmZnVzZTogUE1YTWF0ZXJpYWxQYXJhbUNvbnRhaW5lci5jYWxjTW9ycGhlZFZlY3RvclZhbHVlKHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwuRGlmZnVzZS50b1ZlY3RvcigpLCB0aGlzLl9fYXNzb2NpYXRlZE1hdGVyaWFsLmFkZE1vcnBoUGFyYW0sIHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwubXVsTW9ycGhQYXJhbSwgKHQpID0+IHQuZGlmZnVzZSwgNCksXG4gICAgICAgICAgdGV4dHVyZTogdGhpcy5fX2Fzc29jaWF0ZWRNYXRlcmlhbC5UZXh0dXJlLFxuICAgICAgICAgIHNwaGVyZTogdGhpcy5fX2Fzc29jaWF0ZWRNYXRlcmlhbC5TcGhlcmUsXG4gICAgICAgICAgdGV4dHVyZVVzZWQ6IHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwuVGV4dHVyZSA/IDEgOiAwLFxuICAgICAgICAgIHNwaGVyZU1vZGU6IHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwuU3BoZXJlID8gdGhpcy5fX2Fzc29jaWF0ZWRNYXRlcmlhbC5TcGhlcmVNb2RlIDogMCxcbiAgICAgICAgICBhZGRUZXh0dXJlQ29lZmZpY2llbnQ6IG5ldyBWZWN0b3I0KHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwuYWRkTW9ycGhQYXJhbS50ZXh0dXJlQ29lZmYpLFxuICAgICAgICAgIG11bFRleHR1cmVDb2VmZmljaWVudDogbmV3IFZlY3RvcjQodGhpcy5fX2Fzc29jaWF0ZWRNYXRlcmlhbC5tdWxNb3JwaFBhcmFtLnRleHR1cmVDb2VmZiksXG4gICAgICAgICAgYWRkU3BoZXJlQ29lZmZpY2llbnQ6IG5ldyBWZWN0b3I0KHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwuYWRkTW9ycGhQYXJhbS5zcGhlcmVDb2VmZiksXG4gICAgICAgICAgbXVsU3BoZXJlQ29lZmZpY2llbnQ6IG5ldyBWZWN0b3I0KHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwubXVsTW9ycGhQYXJhbS5zcGhlcmVDb2VmZilcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fX3NlY291bmRhcnlNYXRlcmlhbC5hcHBseShtYXRBcmcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgdGhpcy5fX3RoaXJkTWF0ZXJpYWwubWF0ZXJpYWxWYXJpYWJsZXMgPSB7XG4gICAgICAgICAgYm9uZU1hdHJpY2llc1RleHR1cmU6IHNrZWxldG9uLk1hdHJpeFRleHR1cmUsXG4gICAgICAgICAgYm9uZUNvdW50OiBza2VsZXRvbi5Cb25lQ291bnQsXG4gICAgICAgICAgc3BlY3VsYXI6IFBNWE1hdGVyaWFsUGFyYW1Db250YWluZXIuY2FsY01vcnBoZWRWZWN0b3JWYWx1ZSh0aGlzLl9fYXNzb2NpYXRlZE1hdGVyaWFsLlNwZWN1bGFyLCB0aGlzLl9fYXNzb2NpYXRlZE1hdGVyaWFsLmFkZE1vcnBoUGFyYW0sIHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwubXVsTW9ycGhQYXJhbSwgKHQpID0+IHQuc3BlY3VsYXIsIDMpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX190aGlyZE1hdGVyaWFsLmFwcGx5KG1hdEFyZyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG5cbiAgcHVibGljIGdldCBQcmlvcnR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDEwMDtcbiAgfVxuXG4gIHB1YmxpYyBnZXREcmF3R2VvbWV0cnlMZW5ndGgoZ2VvOiBHZW9tZXRyeSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX19hc3NvY2lhdGVkTWF0ZXJpYWwuRGlmZnVzZS5BID4gMCA/IHRoaXMuVmVydGljaWVzQ291bnQgOiAwO1xuICB9XG5cbiAgcHVibGljIGdldERyYXdHZW9tZXRyeU9mZnNldChnZW86IEdlb21ldHJ5KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5WZXJ0aWNpZXNPZmZzZXQgKiA0O1xuICB9XG5cbiAgcHVibGljIGdldCBNYXRlcmlhbEdyb3VwKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwianRocmVlLm1hdGVyaWFscy5nYnVmZmVyXCI7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUE1YR0J1ZmZlck1hdGVyaWFsO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

import BasicGeometry from "../../Core/Geometries/Base/BasicGeometry";
import ContextComponents from "../../ContextComponents";
import JThreeContext from "../../JThreeContext";
class PMXGeometry extends BasicGeometry {
    constructor(pmx) {
        super();
        const name = `${pmx.Header.modelName}(${pmx.Header.modelNameEn})`;
        const rm = JThreeContext.getContextComponent(ContextComponents.ResourceManager);
        this.indexBuffer = rm.createBuffer(name + "-index", WebGLRenderingContext.ELEMENT_ARRAY_BUFFER, WebGLRenderingContext.STATIC_DRAW, 1, WebGLRenderingContext.UNSIGNED_INT);
        this.positionBuffer = rm.createBuffer(name + "-pos", WebGLRenderingContext.ARRAY_BUFFER, WebGLRenderingContext.STATIC_DRAW, 3, WebGLRenderingContext.FLOAT);
        this.normalBuffer = rm.createBuffer(name + "-nor", WebGLRenderingContext.ARRAY_BUFFER, WebGLRenderingContext.STATIC_DRAW, 3, WebGLRenderingContext.FLOAT);
        this.uvBuffer = rm.createBuffer(name + "-uv", WebGLRenderingContext.ARRAY_BUFFER, WebGLRenderingContext.STATIC_DRAW, 2, WebGLRenderingContext.FLOAT);
        this.edgeSizeBuffer = rm.createBuffer(name + "-edgeSize", WebGLRenderingContext.ARRAY_BUFFER, WebGLRenderingContext.STATIC_DRAW, 1, WebGLRenderingContext.FLOAT);
        this.boneIndexBuffer = rm.createBuffer(name + "-boneIndex", WebGLRenderingContext.ARRAY_BUFFER, WebGLRenderingContext.STATIC_DRAW, 4, WebGLRenderingContext.FLOAT);
        this.boneWeightBuffer = rm.createBuffer(name + "-boneWeight", WebGLRenderingContext.ARRAY_BUFFER, WebGLRenderingContext.STATIC_DRAW, 4, WebGLRenderingContext.FLOAT);
        this.__updateBuffers(pmx);
    }
    /**
     * apply pmx geometries to buffer.
     */
    __updateBuffers(pmx) {
        const surfaceBuffer = new Uint32Array(pmx.Surfaces);
        const verticies = pmx.Verticies;
        this.positionBuferSource = new Float32Array(verticies.positions);
        this.uvBufferSource = new Float32Array(verticies.uvs);
        this.indexBuffer.update(surfaceBuffer, surfaceBuffer.length);
        this.normalBuffer.update(verticies.normals, verticies.normals.length);
        this.uvBuffer.update(this.uvBufferSource, this.uvBufferSource.length);
        this.positionBuffer.update(this.positionBuferSource, this.positionBuferSource.length);
        this.edgeSizeBuffer.update(verticies.edgeScaling, verticies.edgeScaling.length);
        this.boneIndexBuffer.update(verticies.boneIndicies, verticies.boneIndicies.length);
        this.boneWeightBuffer.update(verticies.boneWeights, verticies.boneWeights.length);
    }
    updatePositionBuffer() {
        this.positionBuffer.update(this.positionBuferSource, this.positionBuferSource.length);
    }
    updateUVBuffer() {
        this.uvBuffer.update(this.uvBufferSource, this.uvBufferSource.length);
    }
    applyAttributeVariables(pWrapper, attributes) {
        super.applyAttributeVariables(pWrapper, attributes);
        this.__assignAttributeIfExists(pWrapper, attributes, "edgeScaling", this.edgeSizeBuffer);
        this.__assignAttributeIfExists(pWrapper, attributes, "boneIndicies", this.boneIndexBuffer);
        this.__assignAttributeIfExists(pWrapper, attributes, "boneWeights", this.boneWeightBuffer);
    }
}
export default PMXGeometry;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBNWC9Db3JlL1BNWEdlb21ldHJ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJPQUFPLGFBQWEsTUFBTSwwQ0FBMEM7T0FLN0QsaUJBQWlCLE1BQU0seUJBQXlCO09BQ2hELGFBQWEsTUFBTSxxQkFBcUI7QUFHL0MsMEJBQTBCLGFBQWE7SUFZckMsWUFBWSxHQUFRO1FBQ2xCLE9BQU8sQ0FBQztRQUNSLE1BQU0sSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxTQUFTLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsQ0FBQztRQUNsRSxNQUFNLEVBQUUsR0FBRyxhQUFhLENBQUMsbUJBQW1CLENBQWtCLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ2pHLElBQUksQ0FBQyxXQUFXLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLEdBQUcsUUFBUSxFQUFFLHFCQUFxQixDQUFDLG9CQUFvQixFQUFFLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUscUJBQXFCLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDMUssSUFBSSxDQUFDLGNBQWMsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksR0FBRyxNQUFNLEVBQUUscUJBQXFCLENBQUMsWUFBWSxFQUFFLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDNUosSUFBSSxDQUFDLFlBQVksR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksR0FBRyxNQUFNLEVBQUUscUJBQXFCLENBQUMsWUFBWSxFQUFFLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUscUJBQXFCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUosSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksR0FBRyxLQUFLLEVBQUUscUJBQXFCLENBQUMsWUFBWSxFQUFFLHFCQUFxQixDQUFDLFdB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LEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUN6RixJQUFJLENBQUMseUJBQXlCLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQzNGLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM3RixDQUFDO0FBQ0gsQ0FBQztBQUVELGVBQWUsV0FBVyxDQUFDIiwiZmlsZSI6IlBNWC9Db3JlL1BNWEdlb21ldHJ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2ljR2VvbWV0cnkgZnJvbSBcIi4uLy4uL0NvcmUvR2VvbWV0cmllcy9CYXNlL0Jhc2ljR2VvbWV0cnlcIjtcbmltcG9ydCBJVmFyaWFibGVEZXNjcmlwdGlvbiBmcm9tIFwiLi4vLi4vQ29yZS9NYXRlcmlhbHMvQmFzZS9JVmFyaWFibGVEZXNjcmlwdGlvblwiO1xuaW1wb3J0IFByb2dyYW1XcmFwcGVyIGZyb20gXCIuLi8uLi9Db3JlL1Jlc291cmNlcy9Qcm9ncmFtL1Byb2dyYW1XcmFwcGVyXCI7XG5pbXBvcnQgUE1YIGZyb20gXCIuLi9QTVhEYXRhXCI7XG5pbXBvcnQgQnVmZmVyIGZyb20gXCIuLi8uLi9Db3JlL1Jlc291cmNlcy9CdWZmZXIvQnVmZmVyXCI7XG5pbXBvcnQgQ29udGV4dENvbXBvbmVudHMgZnJvbSBcIi4uLy4uL0NvbnRleHRDb21wb25lbnRzXCI7XG5pbXBvcnQgSlRocmVlQ29udGV4dCBmcm9tIFwiLi4vLi4vSlRocmVlQ29udGV4dFwiO1xuaW1wb3J0IFJlc291cmNlTWFuYWdlciBmcm9tIFwiLi4vLi4vQ29yZS9SZXNvdXJjZU1hbmFnZXJcIjtcblxuY2xhc3MgUE1YR2VvbWV0cnkgZXh0ZW5kcyBCYXNpY0dlb21ldHJ5IHtcblxuICBwdWJsaWMgZWRnZVNpemVCdWZmZXI6IEJ1ZmZlcjtcblxuICBwdWJsaWMgYm9uZUluZGV4QnVmZmVyOiBCdWZmZXI7XG5cbiAgcHVibGljIGJvbmVXZWlnaHRCdWZmZXI6IEJ1ZmZlcjtcblxuICBwdWJsaWMgcG9zaXRpb25CdWZlclNvdXJjZTogRmxvYXQzMkFycmF5O1xuXG4gIHB1YmxpYyB1dkJ1ZmZlclNvdXJjZTogRmxvYXQzMkFycmF5O1xuXG4gIGNvbnN0cnVjdG9yKHBteDogUE1YKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCBuYW1lID0gYCR7cG14LkhlYWRlci5tb2RlbE5hbWV9KCR7cG14LkhlYWRlci5tb2RlbE5hbWVFbn0pYDtcbiAgICBjb25zdCBybSA9IEpUaHJlZUNvbnRleHQuZ2V0Q29udGV4dENvbXBvbmVudDxSZXNvdXJjZU1hbmFnZXI+KENvbnRleHRDb21wb25lbnRzLlJlc291cmNlTWFuYWdlcik7XG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IHJtLmNyZWF0ZUJ1ZmZlcihuYW1lICsgXCItaW5kZXhcIiwgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RBVElDX0RSQVcsIDEsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5VTlNJR05FRF9JTlQpO1xuICAgIHRoaXMucG9zaXRpb25CdWZmZXIgPSBybS5jcmVhdGVCdWZmZXIobmFtZSArIFwiLXBvc1wiLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuQVJSQVlfQlVGRkVSLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RBVElDX0RSQVcsIDMsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GTE9BVCk7XG4gICAgdGhpcy5ub3JtYWxCdWZmZXIgPSBybS5jcmVhdGVCdWZmZXIobmFtZSArIFwiLW5vclwiLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuQVJSQVlfQlVGRkVSLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuU1RBVElDX0RSQVcsIDMsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5GTE9BVCk7XG4gICAgdGhpcy51dkJ1ZmZlciA9IHJtLmNyZWF0ZUJ1ZmZlcihuYW1lICsgXCItdXZcIiwgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkFSUkFZX0JVRkZFUiwgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNUQVRJQ19EUkFXLCAyLCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuRkxPQVQpO1xuICAgIHRoaXMuZWRnZVNpemVCdWZmZXIgPSBybS5jcmVhdGVCdWZmZXIobmFtZSArIFwiLWVkZ2VTaXplXCIsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5BUlJBWV9CVUZGRVIsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5TVEFUSUNfRFJBVywgMSwgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkZMT0FUKTtcbiAgICB0aGlzLmJvbmVJbmRleEJ1ZmZlciA9IHJtLmNyZWF0ZUJ1ZmZlcihuYW1lICsgXCItYm9uZUluZGV4XCIsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5BUlJBWV9CVUZGRVIsIFdlYkdMUmVuZGVyaW5nQ29udGV4dC5TVEFUSUNfRFJBVywgNCwgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkZMT0FUKTtcbiAgICB0aGlzLmJvbmVXZWlnaHRCdWZmZXIgPSBybS5jcmVhdGVCdWZmZXIobmFtZSArIFwiLWJvbmVXZWlnaHRcIiwgV2ViR0xSZW5kZXJpbmdDb250ZXh0LkFSUkFZX0JVRkZFUiwgV2ViR0xSZW5kZXJpbmdDb250ZXh0LlNUQVRJQ19EUkFXLCA0LCBXZWJHTFJlbmRlcmluZ0NvbnRleHQuRkxPQVQpO1xuICAgIHRoaXMuX191cGRhdGVCdWZmZXJzKHBteCk7XG4gIH1cblxuICAvKipcbiAgICogYXBwbHkgcG14IGdlb21ldHJpZXMgdG8gYnVmZmVyLlxuICAgKi9cbiAgcHJvdGVjdGVkIF9fdXBkYXRlQnVmZmVycyhwbXg6IFBNWCk6IHZvaWQge1xuICAgIGNvbnN0IHN1cmZhY2VCdWZmZXIgPSBuZXcgVWludDMyQXJyYXkocG14LlN1cmZhY2VzKTtcbiAgICBjb25zdCB2ZXJ0aWNpZXMgPSBwbXguVmVydGljaWVzO1xuICAgIHRoaXMucG9zaXRpb25CdWZlclNvdXJjZSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljaWVzLnBvc2l0aW9ucyk7XG4gICAgdGhpcy51dkJ1ZmZlclNvdXJjZSA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGljaWVzLnV2cyk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUoc3VyZmFjZUJ1ZmZlciwgc3VyZmFjZUJ1ZmZlci5sZW5ndGgpO1xuICAgIHRoaXMubm9ybWFsQnVmZmVyLnVwZGF0ZSh2ZXJ0aWNpZXMubm9ybWFscywgdmVydGljaWVzLm5vcm1hbHMubGVuZ3RoKTtcbiAgICB0aGlzLnV2QnVmZmVyLnVwZGF0ZSh0aGlzLnV2QnVmZmVyU291cmNlLCB0aGlzLnV2QnVmZmVyU291cmNlLmxlbmd0aCk7XG4gICAgdGhpcy5wb3NpdGlvbkJ1ZmZlci51cGRhdGUodGhpcy5wb3NpdGlvbkJ1ZmVyU291cmNlLCB0aGlzLnBvc2l0aW9uQnVmZXJTb3VyY2UubGVuZ3RoKTtcbiAgICB0aGlzLmVkZ2VTaXplQnVmZmVyLnVwZGF0ZSh2ZXJ0aWNpZXMuZWRnZVNjYWxpbmcsIHZlcnRpY2llcy5lZGdlU2NhbGluZy5sZW5ndGgpO1xuICAgIHRoaXMuYm9uZUluZGV4QnVmZmVyLnVwZGF0ZSh2ZXJ0aWNpZXMuYm9uZUluZGljaWVzLCB2ZXJ0aWNpZXMuYm9uZUluZGljaWVzLmxlbmd0aCk7XG4gICAgdGhpcy5ib25lV2VpZ2h0QnVmZmVyLnVwZGF0ZSh2ZXJ0aWNpZXMuYm9uZVdlaWdodHMsIHZlcnRpY2llcy5ib25lV2VpZ2h0cy5sZW5ndGgpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVBvc2l0aW9uQnVmZmVyKCk6IHZvaWQge1xuICAgIHRoaXMucG9zaXRpb25CdWZmZXIudXBkYXRlKHRoaXMucG9zaXRpb25CdWZlclNvdXJjZSwgdGhpcy5wb3NpdGlvbkJ1ZmVyU291cmNlLmxlbmd0aCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlVVZCdWZmZXIoKTogdm9pZCB7XG4gICAgdGhpcy51dkJ1ZmZlci51cGRhdGUodGhpcy51dkJ1ZmZlclNvdXJjZSwgdGhpcy51dkJ1ZmZlclNvdXJjZS5sZW5ndGgpO1xuICB9XG5cblxuICBwdWJsaWMgYXBwbHlBdHRyaWJ1dGVWYXJpYWJsZXMocFdyYXBwZXI6IFByb2dyYW1XcmFwcGVyLCBhdHRyaWJ1dGVzOiB7IFtrZXk6IHN0cmluZ106IElWYXJpYWJsZURlc2NyaXB0aW9uIH0pOiB2b2lkIHtcbiAgICBzdXBlci5hcHBseUF0dHJpYnV0ZVZhcmlhYmxlcyhwV3JhcHBlciwgYXR0cmlidXRlcyk7XG4gICAgdGhpcy5fX2Fzc2lnbkF0dHJpYnV0ZUlmRXhpc3RzKHBXcmFwcGVyLCBhdHRyaWJ1dGVzLCBcImVkZ2VTY2FsaW5nXCIsIHRoaXMuZWRnZVNpemVCdWZmZXIpO1xuICAgIHRoaXMuX19hc3NpZ25BdHRyaWJ1dGVJZkV4aXN0cyhwV3JhcHBlciwgYXR0cmlidXRlcywgXCJib25lSW5kaWNpZXNcIiwgdGhpcy5ib25lSW5kZXhCdWZmZXIpO1xuICAgIHRoaXMuX19hc3NpZ25BdHRyaWJ1dGVJZkV4aXN0cyhwV3JhcHBlciwgYXR0cmlidXRlcywgXCJib25lV2VpZ2h0c1wiLCB0aGlzLmJvbmVXZWlnaHRCdWZmZXIpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBNWEdlb21ldHJ5O1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
